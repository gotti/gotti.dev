{"pageProps":{"page":"\n# Motivation\n\ndiscordとかやる端末と開発機/ゲーム機が違うとき、画面共有できませんよね？ネットワーク経由で転送して開発機の動画を見せましょう\n\n# 前提条件\n\n- 両方の端末にffmpegがインストールされていること\n- デスクトップキャプチャ側はx11が動いていること\n- 画面を表示する方で30000ポートを開放できること\n\n# こまんど\n\nデスクトップキャプチャ&送信元\n3840_2160はキャプチャ側の解像度です。環境によっては1920_1080とかでもいいです。\nscale=1920:-1で横1920、縦は比率維持して自動調整しFHDに縮小してます。\n${target_host}は画面を表示する方のIPアドレスを指定してください。\n\n```bash\nffmpeg -f x11grab -video_size 3840_2160 -i :0.0+0,0 -vf \"scale=1920:-1\" -framerate 30 -preset superfast -tune zerolatency -f mpegts 'srt://${target_host}:30000'\n```\n\n画面を表示する方\n```bash\nffplay -analyzeduration 1 -fflags -nobuffer -probesize 32 -i \"srt://0.0.0.0:30000?mode=listener\"\n```\n\nおわり\n\n# 参考\n\nhttps://stackoverflow.com/questions/42953616/very-low-latency-streaminig-with-ffmpeg-using-a-webcam\n"},"__N_SSG":true}